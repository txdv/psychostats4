<script language="javascript" type="text/javascript">
{include file="form_js.html"}
</script>

<div class="divtable shade1">
<form name="configimport" action="{url c=$c t=$t}" method="POST" enctype="multipart/form-data">
<input name="ref" value="{$ref|escape}" type="hidden" />
<input name="s" value="{$s|escape}" type="hidden" />
<input name="submit" value="1" type="hidden" />
	<div class="table-hdr">
		<h3><#Import Configuration#></h3>
		<p>
		<!--#BLURB_IMPORTCONF#-->
		Upload a plain text configuration file
		</p>
	</div>

{if $import_errors}
	<center><div class="row row-err-fatal"><#The following options had errors and were ignored#>:<br>
	<p class="text" style="text-align: left; padding: 0 10px">
	{if $import_errors.invalid_vars}
		{foreach from=$import_errors.invalid_vars item='e' key='v'}
			<b>{$v}</b>: {$e}<br>
		{/foreach}
		<br>
	{/if}
	{if $import_errors.unknown_types}
		<b><#Config type unknown for#></b>: {$import_errors.unknown_types|@join}
		<br><br>
	{/if}
	{if $import_errors.ignored_vars}
		<b><#New options ignored#></b>: {$import_errors.ignored_vars|@join}
	{/if}
	</p>
	</div></center>
	<div class="row-spacer"></div>
{/if}

{if $config_was_saved}
	<center><div id="msg-success" class="row row-err-success"><#Configuration was saved successfully#></div></center>
	<div class="row-spacer"></div>
{/if}

	<div class="row{if $form.conftype.error} row-err{/if}">
		<span onmouseover="statusText('{$form.conftype.statustext|escape:'quotes'}')" class="label">
			{$form.conftype.label|escape}
		</span>
		<span class="input">
			<input name="conftype" value="{$conftype|escape}" type="text" size="30" class="field" />
			&lt;-
			<select class="field" onchange="this.form.conftype.value=this.options[selectedIndex].text; this.selectedIndex = 0">
				<option></option>
{foreach from=$conftypes item='i'}<option>{$i|escape}</option>{/foreach}
				<option></option>
			</select>
			{if $form.conftype.error}<p class="err">{$form.conftype.error|escape}</p>{/if}
		</span>
	</div>

	<div class="row{if $form.conffile.error} row-err{/if}">
		<span onmouseover="statusText('{$form.conffile.statustext|escape:'quotes'}')" class="label">
			{$form.conffile.label|escape}
		</span>
		<span class="input">
			<input name="conffile" type="file" size="40" class="field" />
			{if $form.conffile.error}<p class="err">{$form.conffile.error|escape}</p>{/if}
		</span>
	</div>

	<div class="row-spacer"></div>
	<div class="row{if $form.replacemulti.error} row-err{/if}">
		<span onmouseover="statusText('{$form.replacemulti.statustext|escape:'quotes'}')" class="label">
			{$form.replacemulti.label|escape}
		</span>
		<span class="input">
			<input id="rm1" name="replacemulti" value="1" type="radio" {if $replacemulti}checked {/if}/> <label for="rm1"><#Yes#></label>
			<input id="rm2" name="replacemulti" value="0" type="radio" {if !$replacemulti}checked {/if}/> <label for="rm2"><#No#></label>
			{if $form.replacemulti.error}<p class="err">{$form.replacemulti.error|escape}</p>{/if}
		</span>
	</div>

	<div class="row{if $form.ignorenew.error} row-err{/if}">
		<span onmouseover="statusText('{$form.ignorenew.statustext|escape:'quotes'}')" class="label">
			{$form.ignorenew.label|escape}
		</span>
		<span class="input">
			<input id="ig1" name="ignorenew" value="1" type="radio" {if $ignorenew}checked {/if}/> <label for="ig1"><#Yes#></label>
			<input id="ig2" name="ignorenew" value="0" type="radio" {if !$ignorenew}checked {/if}/> <label for="ig2"><#No#></label>
			{if $form.ignorenew.error}<p class="err">{$form.ignorenew.error|escape}</p>{/if}
		</span>
	</div>

	<div class="row-spacer"></div>
	<div class="row">
		<div class="form-actions">
			<div style="float: right">
				<input value="<#Import#>" type="submit" class="btn" />
				<input name="cancel" value="<#Cancel#>" type="submit" class="btn" />
			</div>
			<div style="float: left">
			</div>
		</div>
	</div>
	{include file='block_form_footer.html'}
</form>
<div class="spacer"></div>
</div>
