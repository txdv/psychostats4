<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title><#Icon Gallery#></title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="{$themeurl}styles.css" rel="stylesheet" type="text/css">
<script src="{$themeurl}webcore.js" type="text/javascript"></script>
{literal}
<style type="text/css">
.iconimg { 
	margin: 5px;
}
</style>
{/literal}
</head>
<body>

{literal}
<script language="javascript" type="text/javascript">
function changeIcon(filename) {
	if (!opener.document.forms.profile) return;
	with (opener.document.forms.profile) {
		for (i=0; i < icon.options.length; i++) {
			if (icon.options[i].value == filename) {
				icon.selectedIndex = i;
				icon.onchange();
				window.close();
				return;
			}
		}
/* This doesn't actually work in IE (mummble mummble) ... so we're not going to rely on it
		// if we get here then the icon we selected was not part of the original opener list, so we add it.
		icon.options[ icon.options.length ] = new Option(filename, filename);
		icon.selectedIndex = icon.options.length - 1;
		icon.onchange();
		window.close();
*/
	}
}
</script>
{/literal}

<div class="frame1">
	<div class="label"><#Icon Gallery#></div>
<div class="frame2">
	<div id="icons">
{foreach name="icons" from=$icons item="i"}
	<a href="javascript:changeIcon('{$i.filename}')"><img src="{$themeconf.rootimagesurl}icons/{$i.filename}" alt="{$i.filename}" title="{$i.desc}" {$i.attr} class="iconimg"></a>
{/foreach}
	</div>
</div>
	<div class="under-box"><#Window will close when you select an icon#></div>
</div>
</body>
</html>

