<script language="javascript" type="text/javascript">
{include file="form_js.html"}
</script>

<div class="divtable shade1">
	<div class="table-hdr">
		<h3><#Upload New Icon#></h3>
		<p>
		<b><#Max Size#>:</b> {$themeconf.icons.max_size|abbrnum:0}<br>
		<b><#Max Dimensions#>:</b> {$themeconf.icons.max_width}x{$themeconf.icons.max_height} <#pixels#><br>
		<b><#Image Types Allowed#>:</b> gif,jpg,png<br>
{if $allow_icon_overwrite}
		<!--#UPLOAD_ICON_BLURB#-->
		Newly uploaded icon images will overwrite existing icons.
{else}
		<!--#UPLOAD_ICON_BLURB2#-->
		You are not allowed to overwrite existing icon images.
{/if}
		</p>
	</div>
	<div class="row-spacer"></div>
{if $fatal_errors}
	<center>
	<div class="row row-err-fatal">
	{foreach from=$fatal_errors item='e'}
		{$e}<br>
	{/foreach}
	</div>
	</center>
	<div class="row-spacer"></div>
{/if}
{if $success_msgs}
	<center>
	<div class="row row-err-success">
	{foreach from=$success_msgs item='e'}
		{$e}<br>
	{/foreach}
	</div>
	</center>
	<div class="row-spacer"></div>
{/if}
{* the 'c' url parameter is specified so that this same file can be used in the admin section *}
<form name="iconform" action="{url _base=$PHP_SELF c=$c}" method="POST" enctype="multipart/form-data">
<input name="ref" value="{$ref|escape}" type="hidden">
<input name="submit" value="1" type="hidden">
	<div class="row{if $form.iconfile.error} row-err{/if}">
		<span onmouseover="statusText('{$form.iconfile.statustext|escape:'quotes'}')" onmouseout="notext()" class="label">{$form.iconfile.label}</span>
		<span class="input"><input name="iconfile" type="file" size="50" class="field" />{if $form.iconfile.error}<p class="err">{$form.iconfile.error}</p>{/if}</span>
	</div>

	<div class="row-spacer"></div>
	<div class="row">
		<div class="form-actions">
			<input name="upload" value="<#Upload Icon#>" type="submit" class="btn" />
			<input name="cancel" value="<#Cancel#>" type="submit" class="btn" />
		</div>
	</div>
</form>

	<div class="row-spacer"></div>
	<div class="row shade2"><b>- <#Or#> -</b></div>
	<div class="row-spacer"></div>

{* The forms are separated so that if the user hits 'enter' it will trigger the proper submit button *}
<form name="iconform" action="{url _base=$PHP_SELF c=$c}" method="POST" enctype="multipart/form-data">
<input name="ref" value="{$ref|escape}" type="hidden">
<input name="submit" value="1" type="hidden">
	<div class="row{if $form.iconurl.error} row-err{/if}">
		<span onmouseover="statusText('{$form.iconurl.statustext|escape:'quotes'}')" onmouseout="notext()" class="label">{$form.iconurl.label}</span>
		<span class="input"><input name="iconurl" value="{$iconurl|escape}" type="text" size="50" class="field" />{if $form.iconurl.error}<p class="err">{$form.iconurl.error}</p>{/if}</span>
	</div>

	<div class="row-spacer"></div>
	<div class="row">
		<div class="form-actions">
			<input name="download" value="<#Upload Icon#>" type="submit" class="btn" />
			<input name="cancel" value="<#Cancel#>" type="submit" class="btn" />
		</div>
	</div>
</form>
	{include file='block_form_footer.html'}
<div class="spacer"></div>
</div>

