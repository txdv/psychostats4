<script language="javascript" type="text/javascript">
{include file="form_js.html"}
defaultTextStr = '<#Hover over labels for a description#>';
</script>

<div class="divtablewide shade1">
<form name="config" action="{url _base=$PHP_SELF c=$c}" method="POST">
<input name="ref" value="{$ref|escape}" type="hidden" />
<input name="submit" value="1" type="hidden" />
	<div class="table-hdr">
		<h3><#Players#></h3>
		<p>
			{$totalplayers} <#total players#> ({$totalranked} <#ranked#> / {$totalunranked} <#unranked#>)
		</p>
	</div>

	<div class="row-spacer" style="text-align: left">
		<div style="float: left">
		&nbsp;<#Filter#>: 
		<select name="allowrank" class="field">
			<option value="">- <#All Players#> -</option>
			<option value="1" {if $allowrank == '1'}selected{/if}><#Ranked Only#></option>
			<option value="0" {if $allowrank == '0'}selected{/if}><#Non-Ranked Only#></option>
		</select>
		::
		<input name="filter" type="text" value="{$filter|escape}" size="10" class="field" />
		<input value="<#Go#>" type="submit" class="btn" />
		</div>
		<div style="float: right">{$pagerstr}&nbsp;&nbsp;</div>
		<div class="spacer"></div>
	</div>

{if $msg}
	<center><div id="msg-success" class="row row-err-success">{$msg|escape}</div></center>
	<div class="row-spacer"></div>
{/if}

	{if $pager}<div class="row" align="right">{$pagerstr}&nbsp;</div>{/if}	

<table width=100%" border="0" cellspacing="0" cellpadding="2">
	<tr>
		<td class="header-cell" align="center" onmouseover="statusText('{$form.name.statustext|escape:'quotes'}')" onmouseout="notext()"><#Player#></td>
		<td class="header-cell" align="center" onmouseover="statusText('{$form.username.statustext|escape:'quotes'}')" onmouseout="notext()"><#Username#></td>
		<td class="header-cell" align="center" onmouseover="statusText('{$form.allowrank.statustext|escape:'quotes'}')" onmouseout="notext()"><#Ranked?#></td>
		<td class="header-cell" align="center" onmouseover="statusText('<#Select all visible players#>')" onmouseout="notext()"><input name="deleteall" type="checkbox" onclick="toggleChecked(this.form,this.checked,'actionlist'); this.blur()" /></td>
	</tr>

{foreach name='users' from=$playerlist item='p'}
	<tr class="{cycle values="odd,even"}">
		<td class="text" align="center"><a href="{url _base='editplr.php' id=$p.plrid ref="`$REQUEST_URI`&filter=`$filter`&allowrank=`$allowrank`"}">{$p.name|escape}</a></td>
{if $p.userid}
		<td class="label" align="center"><a href="{url _base='edituser.php' id=$p.userid ref="`$REQUEST_URI`&filter=`$filter`&allowrank=`$allowrank`"}">{$p.username|escape}</a></td>
{else}
		<td class="text" align="center">-</td>
{/if}
{if $p.allowrank}
		<td class="text" align="center" style="color: green"><#Yes#></td>
{else}
		<td class="text" align="center" style="color: red"><#No#></td>
{/if}
		<td class="text" align="center">
			<input id="actionlist{$smarty.foreach.users.index+1}" name="actionlist[]" value="{$p.plrid}" type="checkbox" onclick="this.form.elements.deleteall.checked=false" />
		</td>
	</tr>
{foreachelse}
	<tr>
		<td colspan="4" class="label" align="center"><#No players found#></td>
	</tr>
{/foreach}

</table>
	<div class="row-spacer"></div>
	<div class="row">
		<div class="form-actions">
			<#With selected#>:
			<input name="delete" value="<#Delete#>" type="submit" class="btn" onclick="return window.confirm('<#Really delete selected users?#>')" />
		</div>
	</div>
	{include file='block_form_footer.html'}
</form>
<div class="spacer"></div>
</div>

