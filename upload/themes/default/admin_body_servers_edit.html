<script language="javascript" type="text/javascript">
{include file="form_js.html"}
</script>

<div class="divtable shade1">
<form name="config" action="{url _base=$PHP_SELF c=$c act='edit' id=$id}" method="POST">
<input name="ref" value="{$ref|escape}" type="hidden" />
<input name="idx" value="{$idx|escape}" type="hidden" />
<input name="submit" value="1" type="hidden" />
	<div class="table-hdr">
		<h3>{if $id}<#Edit#>{else}<#Add#>{/if} <#Server#></h3>
		<p>
		</p>
	</div>

{if $errors.fatal}
	<center><div class="row row-err-fatal">{$errors.fatal}</div></center>
	<div class="row-spacer"></div>
{/if}

	<div class="row{if $form.enabled.error} row-err{/if}">
		<span onmouseover="statusText('{$form.enabled.statustext|escape:'quotes'}')" class="label">
			{$form.enabled.label|escape}
		</span>
		<span class="input">
			<input id="enabled1" name="enabled" type="radio" value="1"{if  $enabled} checked{/if}> <label for="enabled1"><#Yes#></label>
			<input id="enabled2" name="enabled" type="radio" value="0"{if isset($enabled) and !$enabled} checked{/if}> <label for="enabled2"><#No#></label>
			{if $form.enabled.error}<p class="err">{$form.enabled.error|escape}</p>{/if}
		</span>
	</div>

	<div class="row{if $form._serverip.error or $form.serverport.error} row-err{/if}">
		<span onmouseover="statusText('{$form._serverip.statustext|escape:'quotes'}')" class="label">
			{$form._serverip.label|escape} : {$form.serverport.label|escape}
		</span>
		<span class="input">
			<input name="_serverip" value="{$_serverip|escape}" type="text" size="18" class="field" />
			: <input name="serverport" value="{$serverport|escape}" type="text" size="7" class="field" />
			{if $form._serverip.error}<p class="err">{$form._serverip.error|escape}</p>{/if}
			{if $form.serverport.error}<p class="err">{$form.serverport.error|escape}</p>{/if}
		</span>
	</div>

	<div class="row{if $form.connectip.error} row-err{/if}">
		<span onmouseover="statusText('{$form.connectip.statustext|escape:'quotes'}')" class="label">
			{$form.connectip.label|escape}
		</span>
		<span class="input">
			<input name="connectip" value="{$connectip|escape}" type="text" size="32" class="field" /> (<#optional#>)
			{if $form.connectip.error}<p class="err">{$form.connectip.error|escape}</p>{/if}
		</span>
	</div>

	<div class="row{if $form.rcon.error} row-err{/if}">
		<span onmouseover="statusText('{$form.rcon.statustext|escape:'quotes'}')" class="label">
			{$form.rcon.label|escape}
		</span>
		<span class="input">
			<input name="rcon" value="{$rcon|escape}" type="text" size="32" class="field" /> (<#optional#>)
			{if $form.rcon.error}<p class="err">{$form.rcon.error|escape}</p>{/if}
		</span>
	</div>

	<div class="row{if $form.query.error} row-err{/if}">
		<span onmouseover="statusText('{$form.query.statustext|escape:'quotes'}')" class="label">
			{$form.query.label|escape}
		</span>
		<span class="input">
			<select name="query" class="field">
{foreach from=$querytypes item="label" key="value"}
				<option value="{$value}"{if $value == $query} selected{/if}>{$label|escape}</option>
{/foreach}
			</select>
			{if $form.query.error}<p class="err">{$form.query.error|escape}</p>{/if}
		</span>
	</div>

	<div class="row-spacer"></div>
	<div class="row">
		<div class="form-actions">
			<div style="float: right">
				<input value="<#Save#>" type="submit" class="btn" />
				<input name="cancel" value="<#Cancel#>" type="submit" class="btn" />
			</div>
{if $id}
			<div style="float: left">
				<input name="del" value="<#Delete server#>" type="submit" class="btn" onclick="return window.confirm('<#Are you sure you want to delete the server?#>')" />
			</div>
{/if}
		</div>
	</div>
	{include file='block_form_footer.html'}
</form>
<div class="spacer"></div>
</div>

